"use strict";(self.webpackChunksolstory=self.webpackChunksolstory||[]).push([[116],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),u=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),h=u(n),d=o,f=h["".concat(l,".").concat(d)]||h[d]||p[d]||i;return n?r.createElement(f,a(a({ref:t},s),{},{components:n})):r.createElement(f,a({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=h;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},5961:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return c},metadata:function(){return u},toc:function(){return p}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],c={sidebar_position:5},l="Updating",u={unversionedId:"architecture/mechanics",id:"architecture/mechanics",title:"Updating",description:"When an item gets appended to solstory, a few things occur.",source:"@site/docs/architecture/mechanics.md",sourceDirName:"architecture",slug:"/architecture/mechanics",permalink:"/architecture/mechanics",editUrl:"https://github.com/solstoryorg/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/architecture/mechanics.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Security",permalink:"/architecture/security"},next:{title:"Reading",permalink:"/architecture/reading"}},s={},p=[{value:"Upload",id:"upload",level:2},{value:"Updating",id:"updating-1",level:2}],h={toc:p};function d(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"updating"},"Updating"),(0,i.kt)("p",null,"When an item gets appended to solstory, a few things occur."),(0,i.kt)("h2",{id:"upload"},"Upload"),(0,i.kt)("p",null,"First, a properly formatted item needs to be uploaded to somewhere on the internet,\npreferably one of the long term storage blockchains, like ARWeave or IPFS. It's\nimportant for this item to properly point to the current first item in the chain\u2013\nthe Solstory Solana program will not verify the location (since it is off chain)\nbut a client will expect to be able to find it and the chain will fail verification\nif it cannot be located."),(0,i.kt)("p",null,"Should you do this incorrectly, it is possible to fix by reuploading the item with\nthe correct location information, then point a ",(0,i.kt)("em",{parentName:"p"},"new")," item to the correct one. See\n",(0,i.kt)("a",{parentName:"p",href:"/usage/locationfix"},"fixing location")," for more information."),(0,i.kt)("p",null,"The Solstory JS API will, if bundlr is enabled, handle this for you. It'll wrap\na JSON object as an item, upload that formatted item to ARWeave via bundlr, then\ngo to the next step."),(0,i.kt)("h2",{id:"updating-1"},"Updating"),(0,i.kt)("p",null,"Next the item needs to be linked to the chain. The append_item function of the\nSolstory Solana program will take in the hash of the uploaded data, the timestamp,\nand the previous hash and verify that they combine to create the submitted current\nhash. Then the currentHash gets updated to the new hash."))}d.isMDXComponent=!0}}]);