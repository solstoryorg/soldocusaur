"use strict";(self.webpackChunksolstory=self.webpackChunksolstory||[]).push([[250],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return u}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(n),u=i,h=m["".concat(s,".").concat(u)]||m[u]||d[u]||a;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function u(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,o=new Array(a);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var p=2;p<a;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},432:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return d}});var r=n(7462),i=n(3366),a=(n(7294),n(3905)),o=["components"],l={sidebar_position:4},s="Items",p={unversionedId:"standard/items",id:"standard/items",title:"Items",description:"Items are stored off-chain. Each item links to the next item in the list, and",source:"@site/docs/standard/items.md",sourceDirName:"standard",slug:"/standard/items",permalink:"/standard/items",editUrl:"https://github.com/solstoryorg/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/standard/items.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"WriterHead",permalink:"/standard/writerhead"},next:{title:"Permissioning",permalink:"/standard/permissioning"}},c={},d=[],m={toc:d};function u(e){var t=e.components,n=(0,i.Z)(e,o);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"items"},"Items"),(0,a.kt)("p",null,"Items are stored off-chain. Each item links to the next item in the list, and\ncontains data as well as (validated) information for verifying the next item."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "validated": {\n    "itemRaw": text (json of item, see below),\n    "itemHash": hex,\n    "nextHash": [0-255 * 32],\n    "timestamp": unix timestamp (seconds from epoch)\n  },\n  "hash": hex,\n  "next": {\n    "objId": [0-255 * 32],\n    "accessType": {\n      <access type>: {\n      }\n    }\n  }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"item (inside item raw)")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n    "type": ITEM|CORRECTION,\n    ref?,\n    "display"?: {\n      img: text (url),\n      label: text,\n      long_description: text,\n      help_text: text,\n    },\n    "data"\n}\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"validated")," this section contains the information that can be validated using the solstory architecture."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"itemRaw")," json dictionaries don't have a defined ordering, so in order for verification to work properly this needs to be raw text that separately serialized before the entire object is serialized. The raw text is what gets used for the hashing algorithm."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"itemHash")," hash of ",(0,a.kt)("inlineCode",{parentName:"li"},"itemRaw")," - should be recalculated by the client api for verification."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"nextHash")," the hash of the next item"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"timestamp")," a unix timestamp from when the object was made"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"hash")," this should be calculated from ",(0,a.kt)("inlineCode",{parentName:"li"},"itemHash"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"nextHash"),", and timestamp. See the reference implementation or the rust program (if you're doing this wrong, the rust program will reject your update). Generally client side APIs should recalculate this manually and compare it"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"next")," this specifier gives the information required to locate the next item in the story/chain.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"item")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"type")," specifies the item type. Currently the only two types are ",(0,a.kt)("inlineCode",{parentName:"li"},"ITEM")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"CORRECTION"),"\nwhere an ",(0,a.kt)("inlineCode",{parentName:"li"},"ITEM")," is a regular record and a ",(0,a.kt)("inlineCode",{parentName:"li"},"CORRECTION")," corrects the record specified in ",(0,a.kt)("inlineCode",{parentName:"li"},"ref")," by its hash."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"ref")," specifies which record this record is linking to, currently only in use for ",(0,a.kt)("inlineCode",{parentName:"li"},"CORRECTION")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"display")," these specifiy how an item should be displayed."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"data")," any data included in the rcord, contains arbitrary JSON.")))}u.isMDXComponent=!0}}]);